@model InvestmentManagement.InvestmentManagement.Models.PRIVATEBOND


<div id="Replace">
    <div class="contentTop">
        <span class="pageTitle">
            <span class=" glyphicon glyphicon-yen"></span>
            @Session["currentPage"]
        </span>

    </div>
    <ol class="breadcrumb">
        @Html.Raw(@ViewBag.BreadCum)
    </ol>
    <div class="wrapper pl">
        <div class="alert alert-success mt20">
            <button class="close" data-dismiss="alert" type="button">×</button>
            @ViewBag.Message
        </div>
        <div class="container-fluid">

            <div class="widget">
                <div class="whead">
                    <h6>
                        <label id="lblHeader" title="">@ViewBag.Header</label>
                    </h6>
                    <div class="clear">
                    </div>
                </div>
                @using (Ajax.BeginForm("EditPRIVATEBOND", " PRIVATEBOND", new AjaxOptions { HttpMethod = "POST", InsertionMode = System.Web.Mvc.Ajax.InsertionMode.Replace, UpdateTargetId = "Replace", OnBegin = "ShowProcessingMsg", OnSuccess = "HideProcessingMsg" }, new { autocomplete = "off" }))
                { 

                 @Html.Hidden("CREATEDBY", @Model.CREATEDBY)
                 @Html.Hidden("CREATEDDATE", @Model.CREATEDDATE)
                 @Html.Hidden("LASTUPDATED", @Model.LASTUPDATED)
                 @Html.Hidden("LASTUPDATEDBY", @Model.LASTUPDATEDBY)
                 @Html.Hidden("REFERENCE", @Model.REFERENCE) 
                 @Html.Hidden("STATUS", @Model.STATUS)
                    <div class="row">


                     <ul class="col-md-6 entryForm bottomNonePadding">                        
                            <li class="form-group">
                                <label class = "control-label entrylable">Bond ISIN</label>                               
                                @Html.TextBoxFor(model => model.BONDID, new { required = "required", @readonly = "readonly", @class = "form-control auction-width", @placeholder = "Please Enter Your ISIN" })
                                <br />
                                @Html.ValidationMessageFor(model => model.BONDID)
                            </li>
                           
                                                  
                            <li class="form-group">
                                <label class = "control-label entrylable">Bond Face value</label>                               
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.BONDSIZE, new { required = "required", @readonly = "readonly", @class = "form-control decimal", @placeholder = "Please Enter Face Value(Only Numeric)" })
                                    <div class="input-group-addon">.00</div>
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.BONDSIZE)

                            </li>
              
                            <li class="form-group">
                                @Html.LabelFor(model => model.BONDISSUEDATE, new { @class = "control-label entrylable" })
                                <div class='input-group date'>
                                    @Html.TextBoxFor(model => model.BONDISSUEDATE, "{0:dd-MMM-yy}", new { required = "required", @readonly = "readonly", @class = "form-control", @value = "Select a Date", @placeholder = "Select a Date " })
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.BONDISSUEDATE)
                            </li>
                                                 
                       
                            <li class="form-group">
                                @Html.LabelFor(model => model.MATURITYDATE, new { @class = "control-label entrylable" })
                                <div class='input-group date'>
                                    @Html.TextBoxFor(model => model.MATURITYDATE, "{0:dd-MMM-yy}", new { @readonly = "readonly", required = "required", @class = "form-control", @value = "Select a Date", @placeholder = "Select a Date " })
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.MATURITYDATE)
                            </li>

                          <li class="form-group">
                                @Html.LabelFor(model => model.OFFERRATE, new { @class = "control-label entrylable" })
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.OFFERRATE, new { required = "required", @readonly = "readonly", @class = "form-control decimal", @placeholder = "Please Enter Your offer rate" })
                                    <div class="input-group-addon">.00</div>
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.OFFERRATE)
                            </li>

                         <li class="form-group">
                             <label class="control-label entrylable">Bond Type</label>
                             <div class="input-group">
                                 @Html.TextBoxFor(model => model.BONDTYPE, new { @class = "form-control", required = "required", @placeholder = "Please Enter Bond Type" })
                                 <div class="input-group-addon">.00</div>
                             </div>
                             <br />
                             @Html.ValidationMessageFor(model => model.BONDTYPE)
                         </li>

                         <li class="form-group">
                             <label class="control-label entrylable">Redemption Rate</label>
                             <div class="input-group">
                                 @Html.TextBoxFor(model => model.REDMPTIONRATE, new { @class = "form-control decimal", required = "required", @placeholder = "Please Enter Bond Redemption." })
                                 <div class="input-group-addon">%</div>
                             </div>
                             <br />
                             @Html.ValidationMessageFor(model => model.REDMPTIONRATE)
                         </li>

                          <li class="form-group">
                             <label class="control-label entrylable">Source Tax Rate</label>
                             <div class="input-group">
                                 @Html.TextBoxFor(model => model.SOURCETAX, new { @class = "form-control decimal", required = "required", @placeholder = "Please Enter Tax." })
                                 <div class="input-group-addon">%</div>
                             </div>
                             <br />
                             @Html.ValidationMessageFor(model => model.TAXRATE)
                         </li>
                                         
                          <li class="form-group">
                             <label class="control-label entrylable">Others Charge</label>
                             <div class="input-group">
                                 @Html.TextBoxFor(model => model.OTHERCHARGE, new { @class = "form-control decimal", required = "required", @placeholder = "Please Enter Oc." })
                                 <div class="input-group-addon">%</div>
                             </div>
                             <br />
                             @Html.ValidationMessageFor(model => model.OTHERCHARGE)
                         </li>           
                        </ul>                                                  

                        <ul class="col-md-6 entryForm bottomNonePadding">
                            <li class="form-group">
                                @Html.LabelFor(model => model.FINANCIALINSTITUTION_REFERENCE, new { @class = "control-label entrylable" })
                                <br />
                                @Html.DropDownListFor(model => model.FINANCIALINSTITUTION_REFERENCE, (SelectList)ViewBag.financialInstitutionList, "Select a Financial Institution", new { required = "required", @class = "control-label entrylable drpResize drpsize" })                         
                                <br />
                                @Html.ValidationMessageFor(model => model.FINANCIALINSTITUTION_REFERENCE)
                            </li>

                            <li class="form-group">
                                @Html.LabelFor(model => model.PURCHASEAMOUNT, new { @class = "control-label entrylable" })
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.PURCHASEAMOUNT, new { required = "required", @class = "form-control", @placeholder = "Please Enter Your purchase amount" })
                                    <div class="input-group-addon">.00</div>
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.PURCHASEAMOUNT)
                            </li>

                        
                            <li class="form-group">

                                <div class="row" style="width: 60%">
                                    <div class="col-md-3" style="width: 40% !important; padding-right: 0px">
                                        <label class="control-label entrylable" for="CouponRate">Tenure</label>
                                        <div class="input-group" style="width: 100% !important; display: table !important;">
                                            @Html.TextBoxFor(model => model.TENURE, new { @class = "form-control number", @value = "", style = "width: 100% !important; display:inline !important;", @type = "number", required = "required" })
                                        </div>
                                    </div>

                                    <div class="col-md-3" style="width: 50% !important;">
                                        <label class="control-label entrylable" for="OFFERRATE">Terms</label>
                                        <div class="input-group" style="width: 100% !important; display: table !important;">
                                            @Html.DropDownListFor(model => model.TENURETERM, (SelectList)ViewBag.TenureList, "Select a Term", new { required = "required", @class = "control-label entrylable drpResize drpsize", style = "width:100% !important;height:35px !important;" })
                                        </div>
                                    </div>

                                </div>

                            </li>

                                <li class="form-group">
                                    <label class="control-label entrylable" for="INTERESTMODE">Interest Mode/ Interest Interval</label>
                                    <br />
                                  
                                    @Html.DropDownList("INTERESTMODE", null, "Select a Intert Mode", new { @required = "required", @class = "control-label entrylable drpResize drpsize", style = "width: 25% !important;" })
                                    @Html.DropDownList("COMPOUNDINTERESTINTERVAL", null, "Select Interest Interval", new { @required = "required", @class = "control-label entrylable drpResize drpsize", style = "width: 25% !important;" })
                                                                      
                                    <br />
                                    @Html.ValidationMessageFor(model => model.INTERESTMODE)

                                </li>

                            <li class="form-group">
                                @Html.LabelFor(model => model.ANNUALDAYS, new { @class = "control-label entrylable" })
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.ANNUALDAYS, new { required = "required", @class = "form-control decimal" })                                  
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.ANNUALDAYS)

                            </li>

                                <li class="form-group">
                                @Html.LabelFor(model => model.COUPONRATE, new { @class = "control-label entrylable" })
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.COUPONRATE, new { required = "required", @class = "form-control decimal", @placeholder = "Please Enter Your offer rate" })
                                    <div class="input-group-addon">.00</div>
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.COUPONRATE)
                            </li>

                              <li class="form-group">
                                @Html.LabelFor(model => model.TRANCHES, new { @class = "control-label entrylable" })
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.TRANCHES, new { required = "required", @class = "form-control decimal", @placeholder = "Please Enter Tranche" })                                 
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.TRANCHES)
                            </li>
                            
                            <li class="form-group">
                                <label class="control-label entrylable">Excise Duty</label>
                                <div class="input-group">
                                    @Html.TextBoxFor(model => model.EXCISEDUTY, new { @class = "form-control", required = "required", @placeholder = "Excise Duty" })
                                </div>
                                <br />
                                @Html.ValidationMessageFor(model => model.EXCISEDUTY)
                            </li>
                          
                            <li class="form-group">
                             <label class="control-label entrylable">Remarks</label>
                             <div class="input-group">
                                 @Html.TextBoxFor(model => model.REMARKS, new { @class = "form-control", @placeholder = "Excise Duty" })                                
                             </div>
                             <br />
                             @Html.ValidationMessageFor(model => model.REMARKS)
                            </li>

                        </ul>




                    </div>

                    <div class="row">
                        <div class="col-md-offset-1" style="margin-left: 151px;">
                            <button type="submit" class="btn btn-success" style="margin-left: 16px; margin-top: 13px;" tabindex="">Accept</button>
                            <a class="load btn btn-danger" href="/#/PRIVATEBOND/ListPRIVATEBOND?lblbreadcum=" style="margin-top: 12px;">Close</a>
                        </div>
                    </div>                 
                
                }

            </div>


        </div>

        @*<div class="container-fluid Grid-Container">

            <div class="widget mb20">
                <div class="whead">
                    <h6>Bond Redemption Schedule</h6>
                    <div class="clear"></div>
                </div>
                <table id="initRow" hidden>
                    <thead>
                    </thead>
                    <tbody>

                        <tr class="entryForm" hidden>
                            <td style="text-align: right;">                           
                                <input id="redemptionYear" class="form-control number"  type="number" name="REDEMPTIONYEAR" value="2015" />
                            </td>

                            <td class="form-group" style="text-align: center;" id="tdDebit">
                                <div class="input-group">
                                    <input id="REDEMPTIONPERCENT" class="form-control decimal" type="text" value="" placeholder="Please Enter Your Interest Rate (Only Numeric)" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Interest Rate'" name="REDEMPTIONPERCENT" data-val-number="The field Interest Rate must be a number." data-val="true">
                                    <div class="input-group-addon">.00</div>
                                </div>
                            </td>

                      
                            <td class="form-group" style="text-align: center;">
                                <div class="input-group date">
                                    @Html.TextBox("REDEMPTIONDATE","", new { @class = "datepicker form-control", @value = "Select a Date", @placeholder = "Select a Date " })
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                
                                </div>
                            </td>



                            <td class="form-group" style="text-align: center;" id="tdCredit">
                                <select  class="control-label entrylable drpResize drpsize">
                                    <option value="">Select an Item</option>
                                    <option value="Cash">Cash</option>
                                    <option value="Share">Share</option>
                                </select></td>

                      

                            <td>


                                <img src='../../images/save.png' class='btnSave' />
                                <img src="~/images/delete.png" alt="Delete" style="border-width: 0px;" class='btnDelete' />

                            </td>

                            <td id="ddlNoiminal" hidden>                           
                            </td>
                        </tr>
                    </tbody>

                </table>



                <table id="tblGrid" class="ASPGrid">
                    <thead>
                        <tr>
                            
                            <th style="text-align: center;">Redemption Year</th>
                            <th style="text-align: center;">Redemption Percent</th>
                            <th style="text-align: center;">Redemption Date</th>
                            <th style="text-align: center;">Redemption By</th>

                     
                            <th style=""></th>
                            <th style="" hidden></th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td>
                                <input type="button" class="btn btn-success" value="Add New" id="btnAdd" /></td>
                         

                        </tr>

                    </tfoot>


                </table>






            </div>
            <div class="clear"></div>
        </div>*@

    </div>
    <p></p>


    <script type="text/javascript">
        function ShowProcessingMsg() {

            $('.loadingImage').show();

        }
        function HideProcessingMsg() {
            $('.loadingImage').hide();
        }

    </script>

@*    <script src="~/Scripts/FormatNumber.js"></script>
    <script src="~/Scripts/customGridBond.js"></script>*@
    <script>
      
        $(function () {
          
            $('.datepicker').datepicker({ dateFormat: formatDate('long') });        

        });

    </script>
    <script>
        
        $(document).on('keypress', '.number', function (event) {

            if (event.keyCode == 46 || event.keyCode == 8) {
                // let it happen, don't do anything
            } else if ((event.which < 48 || event.which > 57)) {
                event.preventDefault();
            }

        });
        $(document).on('keypress', '.decimal', function (event) {

            if (event.keyCode == 46 || event.keyCode == 8) {
                // let it happen, don't do anything
            } else if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
                event.preventDefault();
            }

        });


    </script>

</div>

